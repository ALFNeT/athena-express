env:
  global:
    - CC_TEST_REPORTER_ID=dd34219f9de2e5e7dcc84feb23e2992665a2f5e8319b857bb575ed6e40e88bf0
matrix:
  include:
    - language: node_js
      node_js:
        - "10"
        - "9"
        - "8"
        - "7"
      before script:
        - "npm install athena-express"
      before_install:
        - "npm install"
      script: 
        - npm start
      after_script:
        - npm run coveralls

    - language: ruby
      rvm:
        - 2.2.0
      before_script:
        - curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64 > ./cc-test-reporter
        - chmod +x ./cc-test-reporter
        - ./cc-test-reporter before-build
      script:
        - bundle exec rspec
      after_script:
        - ./cc-test-reporter after-build --exit-code $TRAVIS_TEST_RESULT